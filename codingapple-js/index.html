<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
            crossorigin="anonymous"
        />
        <link rel="stylesheet" href="main.css" />
        <title>Document</title>
    </head>
    <body>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
            crossorigin="anonymous"
        ></script>
        <script
            src="https://code.jquery.com/jquery-3.6.4.min.js"
            integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
            crossorigin="anonymous"
        ></script>

        <nav class="navbar navbar-light bg-light">
            <div class="container-fluid">
                <span class="navbar-brand">Navbar</span>
                <button class="navbar-toggler" type="button">
                    <span class="navbar-toggler-icon"></span>
                    <button type="button" class="btn btn-dark" id="dark-mode">
                        Dark ♼
                    </button>
                </button>
            </div>
        </nav>

        <ul class="list-group">
            <li class="list-group-item">An item</li>
            <li class="list-group-item">A second item</li>
            <li class="list-group-item">A third item</li>
            <li class="list-group-item">A fourth item</li>
            <li class="list-group-item">And a fifth one</li>
        </ul>

        <div class="black-bg">
            <div class="white-bg">
                <h4>로그인하세요</h4>
                <form action="success.html">
                    <div class="my-3">
                        <input type="text" class="form-control" id="id-input" />
                    </div>
                    <div class="my-3">
                        <input
                            type="password"
                            class="form-control"
                            id="pw-input"
                        />
                    </div>
                    <button type="submit" class="btn btn-primary" id="submit">
                        전송
                    </button>
                    <button type="button" class="btn btn-danger" id="close">
                        닫기
                    </button>
                </form>
            </div>
        </div>

        <button class="btn btn-primary" id="login-btn">로그인</button>

        <div class="alert alert-danger">5초 이내 구매시 사은품 증정!</div>

        <button class="slide-btn1">1</button>
        <button class="slide-btn2">2</button>
        <button class="slide-btn3">3</button>
        <button class="slide-previous">이전</button>
        <button class="slide-next">다음</button>

        <div class="lorem-box">
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic atque
            laudantium iure dolorem ipsum inventore eaque odio iusto ipsam nemo!
            Minima eius aperiam fugit facere inventore ad esse officia atque?
        </div>

        <div class="slide-container">
            <div class="slide-box1"><img src="car1.png" alt="" /></div>
            <div class="slide-box2"><img src="car2.png" alt="" /></div>
            <div class="slide-box3"><img src="car3.png" alt="" /></div>
        </div>

        <script>
            // lorem-box의 스크롤바가 끝까지 내려가면, alert('다 내렸네') 띄우기
            var loremBox = document.querySelector('.lorem-box');
            loremBox.addEventListener('scroll', function () {
                if (
                    loremBox.scrollHeight - 10 <=
                    loremBox.scrollTop + loremBox.clientHeight
                ) {
                    alert('다 내렸네');
                }
            });

            // 현재 y위치가 100px 이상 내려갔으면, .navbar의 font-size를 20px로 줄이기.
            window.addEventListener('scroll', function () {
                if (window.scrollY >= 100) {
                    document.querySelector('.navbar-brand').style.fontSize =
                        '10px';
                } else {
                    document.querySelector('.navbar-brand').style.fontSize =
                        '36px';
                }
            });

            var current_picture = 1;
            // 2번 입력 시, transform : translateX(100%);
            document
                .querySelector('.slide-btn2')
                .addEventListener('click', function () {
                    document.querySelector('.slide-container').style.transform =
                        'translateX(-100vw)';
                    current_picture = 2;
                });
            document
                .querySelector('.slide-btn3')
                .addEventListener('click', function () {
                    document.querySelector('.slide-container').style.transform =
                        'translateX(-200vw)';
                    current_picture = 3;
                });
            document
                .querySelector('.slide-btn1')
                .addEventListener('click', function () {
                    document.querySelector('.slide-container').style.transform =
                        'translateX(0vw)';
                    current_picture = 1;
                });

            document
                .querySelector('.slide-previous')
                .addEventListener('click', function () {
                    if (current_picture == 2) {
                        document.querySelector(
                            '.slide-container'
                        ).style.transform = 'translateX(0vw)';
                        current_picture = 1;
                    } else if (current_picture == 3) {
                        document.querySelector(
                            '.slide-container'
                        ).style.transform = 'translateX(-100vw)';
                        current_picture = 2;
                    }
                });

            document
                .querySelector('.slide-next')
                .addEventListener('click', function () {
                    document.querySelector('.slide-container').style.transform =
                        'translateX(' + current_picture * -100 + 'vw)';
                    current_picture += 1;
                });

            // n초마다 innerHTML 값 변경 + 0초 되었을 때 .alert 닫히게
            // var remain_cnt = 5;
            // setInterval(function () {
            //     if (remain_cnt <= 0) {
            //         document.querySelector('.alert').style.display = 'none';
            //     } else {
            //         document.querySelector('.alert').innerHTML =
            //             remain_cnt + '초 이내 구매시 사은품 증정!';
            //         remain_cnt -= 1;
            //     }
            // }, 1000);

            // .navbar-toggler 버튼을 클릭했을 때, list-group이 활성화되었다 꺼졌다
            document
                .querySelector('.navbar-toggler')
                .addEventListener('click', function () {
                    document
                        .querySelectorAll('.list-group')[0]
                        .classList.toggle('show');
                });

            // 로그인 버튼 누르면 form이 뜬다
            $('#login-btn').on('click', function () {
                $('.black-bg').css('display', 'block');
            });

            // 검은 배경 누르면, form이 닫힌다
            $('.black-bg').on('click', function (e) {
                if (e.target == document.querySelector('.black-bg')) {
                    $('.black-bg').css('display', 'none');
                }
            });

            // 전송버튼 눌렀을 때 첫번째 input 값이 공백이면 아이디 입력하라고 알림 띄우기
            $('#submit').on('click', function (e) {
                if ($('#id-input').val() == '') {
                    alert('please insert id');
                    e.preventDefault();
                } else if ($('#pw-input').val() == '') {
                    alert('please insert pw');
                    e.preventDefault();
                } else if ($('#pw-input').val().length < 6) {
                    alert('please insert more');
                    e.preventDefault();
                } else if (/[A-Z]/.test($('#pw-input').val())) {
                    alert('1개 이상 대문자  존재');
                    e.preventDefault();
                }
            });

            // #dark-mode 클릭 시, text 변경 + 텍스트와 bg 컬러 반전
            document
                .querySelector('#dark-mode')
                .addEventListener('click', function () {
                    document
                        .querySelector('#dark-mode')
                        .classList.toggle('dark-mode');
                    if (
                        document.querySelector('#dark-mode').innerHTML ==
                        'White ♼'
                    ) {
                        document.querySelector('#dark-mode').innerHTML =
                            'Dark ♼';
                    } else {
                        document.querySelector('#dark-mode').innerHTML =
                            'White ♼';
                    }
                });
        </script>
    </body>
</html>
